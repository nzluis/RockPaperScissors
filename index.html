<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body style="text-align: center; background-color: antiquewhite ;">

    <h1>Rock, Paper and Scissors</h1>
    <div class="buttons" >
        <button class="Rock">Rock</button>
        <button class="Paper">Paper</button>
        <button class="Scissors">Scissors</button>
    </div>
    <div>
        <p class = 'result'></p>
        <p class = 'score'></p>
    </div>
    <div class="results"><br></div><br>
    <div class="score">User 0 vs Computer 0</div>
    <br>
    <button class="reset" onclick="reset()">Reset</button>


    <script>
 
        function getComputerChoice() {
            let random = Math.floor(Math.random()*3);
            if (random === 1) {
                return "Rock";
            } else if (random === 2) {
                return "Paper"
            } else { return "Scissors"}
        }

        let computerSelection;
        let playerSelection;        
        let computerPoints = 0;
        let playerPoints = 0;
        const scoreBoard = document.querySelector('div.score');
        const resultsLive = document.querySelector('div.results');
        const resetClear = document.querySelector('.reset');

        function reset(){
            computerPoints = 0;
            playerPoints = 0;
            resultsLive.textContent = " ";
            scoreBoard.textContent = 'User 0 vs Computer 0';

        }

        const buttons = document.querySelectorAll('.buttons button');
        buttons.forEach(button => {
            button.addEventListener('click', () => {
                console.log(button.className);
                playerSelection = button.className;
                computerSelection = getComputerChoice();
                console.log(computerSelection);
                playRound(playerSelection, computerSelection);
                game();

            })
        })

        function game() {           
            if (playerPoints >= 5 || computerPoints >= 5) {
                (playerPoints > computerPoints) ? scoreBoard.textContent = "YOU WON THE GAME"
                : scoreBoard.textContent = "YOU FATALLY LOST THE GAME";
                resultsLive.textContent ='';
            }   else {
                scoreBoard.textContent = `User ${playerPoints} vs Computer ${computerPoints}`;
                resultsLive.textContent = `Your ${playerSelection} vs Computer ${computerSelection}`;
            }                                        
        }


        function playRound(playerSelection, computerSelection) {
           
            
            if (computerSelection === "Rock"){
                    if (playerSelection === "Rock"){
                        return 1;
                    } else if (playerSelection === "Paper"){
                        playerPoints += 1;
                        return 2;
                    } else if (playerSelection === "Scissors"){
                        computerPoints += 1;
                        return 3;
                    } else {return "Error! You can't compete with that item"}
                } if (computerSelection === "Paper") {
                    if (playerSelection === "Rock"){
                        computerPoints += 1;
                        return 3;
                    } else if (playerSelection === "Paper"){
                        return 1;
                    } else if (playerSelection === "Scissors"){
                        playerPoints += 1;
                        return 2;
                    } else {return "Error! You can't compete with that item"}
                } if (computerSelection === "Scissors"){
                    if (playerSelection === "Rock"){
                        playerPoints += 1;
                        return 2;
                    } else if (playerSelection === "Paper"){
                        computerPoints += 1;
                        return 3;
                    } else if (playerSelection === "Scissors"){
                        return 1;
                    } else {return "Error! You can't compete with that item"}
                }         
        }       
        
    </script>

</body>
</html>